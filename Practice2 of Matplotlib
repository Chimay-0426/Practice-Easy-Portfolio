#Monte carlo method/モンテカルロ法
import matplotlib.pyplot as plt
import numpy as np
import math
import time

np.random.seed(100)
X = 0  # 的に当たった回数です

# 試行回数Nを指定してください。
N = 1000
# 四分円の境界の方程式[y=√1-x^2 (0<=x<=1)]を描画しています。
circle_x = np.arange(0, 1, 0.001)
circle_y = np.sqrt(1 - circle_x * circle_x)
plt.figure(figsize=(5, 5))
plt.plot(circle_x, circle_y)

# N回の試行にかかる時間を計測します。
start_time = time.perf_counter()

#プロット用の空の配列を用意
internal_x = []
internal_y = []
external_x = []
external_y = []

# N回の試行を行っています。
for i in range(N):
    # 0から1の間で一様乱数を発生させ、変数score_xに格納してください。
    score_x = np.random.random()
    # 0から1の間で一様乱数を発生させ、変数score_yに格納してください。
    score_y = np.random.random()
    if score_x * score_x + score_y * score_y < 1:
        # 的に入ったものはinternal_x, internal_yに追加してください。
        internal_x.append(score_x)
        internal_y.append(score_y)


        
        # 得点Xを1追加してください
        X += 1

    else:
        # 的から外れたものはexternal_x, external_yに追加してください。
        external_x.append(score_x)
        external_y.append(score_y)



# piの近似値をここで計算してください。
pi = 4 * X / N

# モンテカルロ法の実行時間を計算しています。
end_time = time.perf_counter()
time = end_time - start_time

# 円周率の結果を表示
print("円周率:%.6f" % pi)
print("実行時間:%f" % (time))

# 散布図を描画してください。四分円内にある点は赤で、四分円外にある点は青で描画してください。
plt.scatter(internal_x, internal_y, color = "r" )
plt.scatter(external_x, external_y, color= "b")


# 結果を表示
plt.grid(True)
plt.xlabel('X')
plt.ylabel('Y')
plt.show()
